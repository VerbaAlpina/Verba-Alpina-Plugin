var h,n,r,u,v=new aa,ba,y,ca=-1,z=new da,A,ea=!1;
function fa(){n=new google.maps.Map(document.getElementById("IM_googleMap"),ga);new google.maps.Data.Feature({highlighted:!1});new google.maps.Data.Feature({clicked:!1});new google.maps.Data.Feature({hovered:!1});n.data.setStyle(function(a){var b=a.getProperty("mapShape").Qb,c=b.Pa(),b=b.index,d=1,e=.4;a.getProperty("highlighted")&&(d=2,b=1E4,e=.6);return{fillColor:c,fillOpacity:e,strokeColor:c,strokeWeight:d,zIndex:b}});n.data.addListener("click",function(a){a.feature.getProperty("mapShape").ya(a);
a.feature.setProperty("clicked",!0)});n.data.addListener("mouseover",function(a){a.feature.setProperty("hovered",!0);a.feature.setProperty("highlighted",!0);A=a.feature});n.data.addListener("mouseout",function(a){null!=a?(a.feature.setProperty("hovered",!1),a.feature.getProperty("clicked")||ea||a.feature.setProperty("highlighted",!1)):A&&A.setProperty("highlighted",!1)});n.data.addListener("mousedown",function(){ea=!0});n.data.addListener("mouseup",function(){ea=!1})}
jQuery(function(){fa();r=new ha;u=new ia;ba=new ja;y=new ka;jQuery.contextMenu({selector:".addComment",build:function(a){a=r.Yc(1*a.attr("data-index"),1*a.attr("data-main-index"));return jQuery.isEmptyObject(a)?!1:{items:a,callback:r.qd}}});jQuery("#commentTabs").tabs({beforeActivate:v.Ac.bind(v)});la();for(var a in PATH.options)ba.Rd(a,PATH.options[a]);jQuery(document).trigger("im_map_initialized")});function ha(){function a(a,b){var d=jQuery.extend({},a),c=d.removed;void 0==c&&(c=d.removed=[]);c.push(b);return d}function b(a,e,g,f){var d=a[e];a=!d.D;var l=document.createElement("tr");d.v=jQuery(l);d instanceof C?(l.style.backgroundColor="lightgray",l.style.cursor="pointer",l.addEventListener("click",function(a){(a.target||a.srcElement)instanceof HTMLInputElement||(d.V=!d.V,r.update())})):null==d.parent&&(l.style.backgroundColor="lightgray");l.className="addComment";l.tabIndex=-1;l.dataset.index=
e;null!=f&&(l.dataset.mainIndex=f,l.addEventListener("mouseover",r.Jb.bind(r,e,!0)));f=document.createElement("td");if(d instanceof C){f.className="collapseSymbol";var m=document.createElement("span");d.V?m.appendChild(document.createTextNode("-")):m.appendChild(document.createTextNode("+"));f.appendChild(m)}else f.style["background-color"]="lightgray";l.appendChild(f);f=document.createElement("td");if(d.D||""!=d.w)m=document.createElement("img"),m.src=d.D?PATH.Loading:d.w,f.appendChild(m);l.appendChild(f);
f=document.createElement("td");c(f,d);l.appendChild(f);f=document.createElement("td");a&&(m=document.createElement("input"),m.type="checkbox",m.addEventListener("click",function(a){d.visible(this.checked,!0);a.stopPropagation()}),m.checked=d.visible(),f.appendChild(m));l.appendChild(f);f=document.createElement("td");a&&(m=document.createElement("img"),m.src=PATH.Delete,m.width=10,m.height=10,m.style.cursor="auto",m.addEventListener("mouseover",function(){this.src=PATH.Delete_M}),m.addEventListener("mouseout",
function(){this.src=PATH.Delete}),m.addEventListener("click",function(a){r.G(d,!0);a.stopPropagation()}),f.appendChild(m));l.appendChild(f);g.appendChild(l);jQuery(document).trigger("im_legend_element_created",d,l);if(d instanceof C&&d.V)for(a=d.c.length,l=0;l<a;l++)b(d.c,l,g,e)}function c(a,b){for(var d=b.key.split("+"),c=document.createElement("div"),e=0;e<d.length;e++){var l=v.Bb(d[e]),m=document.createElement("span"),p=document.createElement("span");p.style["font-weight"]="bold";-1==b.key?m.appendChild(document.createTextNode(z.Sc(b.j))):
(m.appendChild(document.createTextNode((0<e?" + ":"")+z.ra(b.j)+" ")),p.appendChild(document.createTextNode(z.M(b.j,d[e])+" ")));c.appendChild(m);c.appendChild(p);void 0!==l&&(l=document.createElement("img"),l.style.vertical_align="middle",l.src=PATH.Info,l.addEventListener("click",function(a,d){v.Pb(b.j,a,!1);d.stopPropagation()}.bind(this,d[e])),c.appendChild(l))}b instanceof ma&&c.appendChild(document.createTextNode(z.Rc(b.j,b.N.length)));a.appendChild(c)}this.elements=[];this.getLength=function(){return this.elements.length};
this.Cb=function(a){return this.elements[a]};this.addElement=function(a){a.ia(this.elements.length);this.elements.push(a)};this.Xc=function(a,b){for(var d=0;d<this.elements.length;d++){var c=this.elements[d];if(c.j==a&&c.key==b)return c}return null};this.update=function(){jQuery(document).trigger("im_legend_before_rebuild",this);var a=document.createElement("table");if(0!=this.elements.length){a.className="easy-table easy-table-default";for(var c=0;c<this.elements.length;c++)null!=this.elements[c]&&
b(this.elements,c,a)}jQuery("#IM_legend").html(a);jQuery(document).trigger("im_legend_after_update",this)};this.G=function(b,c){if(b instanceof C)for(var d=0;d<b.c.length;d++)this.G(b.c[d],!1);else y.Aa(b),void 0!==b.u&&(b.F==D?u.de(b.u[0],b.u[1]):u.ce(b.F,b.u)),null!=b.parent&&(b.parent.fa=a(b.parent.fa,b.key),b.visible()&&b.parent.ba--);v.xd(b.key);if(c){for(var e=!1,d=0;d<this.elements.length;d++){var k=this.elements[d];if(b==k){for(this.elements.splice(d,1);d<this.elements.length;d++)this.elements[d].ia(d);
break}else if(k instanceof C){for(var l=0;l<k.c.length;l++)if(b==k.c[l]){k.c.splice(l,1);0==k.c.length&&this.G(k,!0);e=!0;break}if(e)break}}this.update()}};this.wd=function(){for(var a=this.elements.length,b=0;b<a;b++)this.G(this.elements[0],!0)};this.Qc=function(b){for(var c=[],d=0;d<this.elements.length;d++){var f=this.elements[d];if(b||f.visible()){var k=f.fa;if(!b&&f instanceof C)for(var l=0;l<f.c.length;l++)f.c[l].visible()||(k=a(k,f.c[l].key));c[d]={category:f.j,key:f.key,filter:k,fixedColors:f.sa()}}}return c};
this.Jb=function(){};this.Yc=function(a,b){var c={},d;d=isNaN(b)?r.elements[a]:r.elements[b].c[a];if("-1"!=d.key)for(var e=d.key.split("+"),l=0;l<e.length;l++){var m=z.Zc(d.j,e[l],1<e.length);!v.gd(e[l])&&m&&"1"==PATH.userCanEditComments&&v.cb(d.j,d.key)&&(c["addComment"+e[l]]={name:m,icon:"edit"});(m=z.Wc(d.j,e[l],1<e.length))&&(c["getList"+e[l]]={name:m,icon:"edit"})}return c};this.qd=function(a,b){var c;c=1*b.$trigger.attr("data-index");var d=1*b.$trigger.attr("data-main-index");c=isNaN(d)?r.elements[c]:
r.elements[d].c[c];0===a.indexOf("addComment")?(d=a.substring(10),v.Pb(c.j,d,!0)):0===a.indexOf("getList")&&(new na(z.Uc(c.j),c)).Zd()};this.Rb=function(){for(var a=0;a<this.elements.length;a++)this.elements[a].Sb();this.update()};this.Fc=function(){var a=!1;void 0==a&&(a=!0);for(var b=0;b<this.elements.length;b++)this.elements[b]instanceof C&&(this.elements[b].V=!1);a&&this.update()}}
function ma(a,b){this.j=a;this.key=b;this.ia=function(a){this.index=a};this.F=-1;this.D=!0;this.ja=this.w="";this.N=[];this.parent=this.v=null;var c=!0;this.visible=function(a,b){if(null!=a&&a!=c)if(c=a){for(var d=this.N.length,e=0;e<d;e++)y.Ca(this.N[e],this);null!=this.parent&&(this.parent.ba++,this.parent.visible(!0,1==this.parent.ba,!0))}else y.Aa(this),null!=this.parent&&(this.parent.ba--,0==this.parent.ba&&this.parent.visible(!1,!0,!0));b&&r.update();return c};this.ua=function(){null==this.parent||
this.parent.V?(this.v.focus(),this.v.addClass("focused")):(this.parent.v.focus(),this.parent.v.addClass("focused"))};this.blur=function(){this.v.blur()};this.ee=function(){null!=this.v&&(this.v.removeClass("focused"),this.blur());null!=this.parent&&null!=this.parent.v&&(this.parent.v.removeClass("focused"),this.parent.blur())};this.Sb=function(){this.D=!0;this.bb();z.Z(this.j,this.key,this.fa,this.sa())};this.sa=function(){return{"-1":this.u}};this.Pa=function(){return this.F==D?u.Pc(this.u):u.Pa(this.u)};
this.bb=function(){y.Aa(this);this.N=[]}}
function C(a,b){this.j=a;this.key=b;this.ia=function(a){this.index=a;for(var b=0;b<this.c.length;b++)this.c[b].ia(a)};this.F=-1;this.D=!0;this.ja=this.w="";this.c=[];this.Ib=function(a){return this.c[a]};this.qc=function(a){a.ia(this.index);this.c.push(a)};this.ba=0;this.v=null;var c=!0;this.visible=function(a,b,g){if(null!=a&&a!=c&&(c=a,!g))for(g=0;g<this.c.length;g++)this.c[g].visible(a,!1);b&&r.update();return c};this.V=!0;this.Cb=function(a,b){for(var c=0;c<this.c.length;c++){var d=this.c[c];
if(d.j==a&&d.key==b)return d}return null};this.focus=function(){this.v.focus()};this.blur=function(){this.v.blur()};this.Sb=function(){this.D=!0;this.bb();z.Z(this.j,this.key,this.fa,this.sa())};this.sa=function(){for(var a={},b=0;b<this.c.length;b++){var c=this.c[b];a[c.key]=c.u}return a};this.bb=function(){for(var a=0;a<this.c.length;a++){var b=this.c[a];y.Aa(b);b.N=[];b.D=!0}};this.yd=function(){this.c=[]}};function ka(){function a(a,b){for(var c=a.length-1;0<=c;c--)for(var d=a[c],e=d.l,g=e.length,f=g-1;0<=f;f--)e[f]==b&&(1==g?(d.La(),d.h.setMap(null),a.splice(c,1)):(d.vd(f),g--))}for(var b=Math.pow(8.983152841195214E-4,2),c=Array(16),d=0;16>d;d++){c[d]=Array(16);for(var e=0;16>e;e++)c[d][e]=[]}var g=[],f=[];this.Ca=function(a,d){if(a.L instanceof google.maps.Data.Point){for(var e=a.L.get().lat(),k=a.L.get().lng(),l=4.884734173789496>k||43.43132018706552>e||16.4712009425153<k||48.367401122753634<e?g:
c[Math.floor((k-4.884734173789496)/.7241541730453628)][Math.floor((e-43.43132018706552)/.30850505848050686)],w=l.length,q=0;q<w;q++){var t=l[q].h.getPosition().lat(),B=l[q].h.getPosition().lng(),t=e-t,B=k-B;if(t*t+B*B<b){l[q].tc(a,d);break}}q==w&&(e=new oa(pa(a.L.get(),d.w),[a.P],[d]),l.push(e),e.h.setMap(n))}else l=new google.maps.Data.Feature({geometry:a.L}),e=new qa(l,a.P,d),l.setProperty("mapShape",e),f.push(e),n.data.add(l)};this.Aa=function(b){a(g,b);for(var d=c.length,e=c[0].length,k=0;k<d;k++)for(var x=
0;x<e;x++)a(c[k][x],b);for(k=f.length-1;0<=k;k--)d=f[k],d.Qb==b&&(d.La(),n.data.remove(d.feature),f.splice(k,1))};this.Jb=function(a,b){for(var d=g.length-1;0<=d;d--)g[d].ua(a,b);for(var d=c.length,e=c[0].length,f=0;f<d;f++)for(var k=0;k<e;k++)for(var l=c[f][k],t=a,B=b,G=l.length-1;0<=G;G--)l[G].ua(t,B)}}function pa(a,b){return new google.maps.Marker({position:a,icon:{url:b,origin:new google.maps.Point(0,0),anchor:new google.maps.Point(7.5,7.5)}})}
function qa(a,b,c){this.infoWindow=null;this.P=b;this.feature=a;this.Qb=c;this.ya=function(a){null==this.infoWindow&&(this.infoWindow=new google.maps.InfoWindow({content:this.P.Ra()}));google.maps.event.addListener(this.infoWindow,"closeclick",function(){a.feature.setProperty("clicked",!1);a.feature.getProperty("hovered")||a.feature.setProperty("highlighted",!1)});this.infoWindow.setPosition(a.latLng);this.infoWindow.open(n)};this.La=function(){}}
function oa(a,b,c){this.I=b;this.h=a;this.l=c;this.infoWindow=null;this.Wb=function(a,b){google.maps.event.clearInstanceListeners(this.h);this.h.setMap(null);this.h=a;b&&this.ha();google.maps.event.addListener(this.h,"click",this.ya.bind(this));google.maps.event.addListener(this.h,"mouseover",this.yb.bind(this));google.maps.event.addListener(this.h,"mouseout",this.Tb.bind(this));this.h.setMap(n)};this.tc=function(a,b){this.infoWindow=null;if(!a.P.cc(this,b))if(this.I.push(a.P),this.l.push(b),this.h instanceof
google.maps.Marker){var c=new E({position:a.L.get(),draggable:!1,ke:!0});c.Xb("none");this.Wb(c,!0)}else this.ha()};this.ha=function(a){if(1==this.l.length)this.Wb(pa(this.h.getPosition(),this.l[0].w),!1);else{var b=this.l.length,c=d[b],e=0,l=document.createElement("div"),m=document.createElement("table");m.className="IM_symbol_table";for(var p=0;p<c;p++){for(var x=document.createElement("tr"),w=0;w<c;w++){var q=e+w;if(q>=b)break;else{var t=document.createElement("td"),B=document.createElement("img");
B.src=this.l[q]==a?this.l[q].ja:this.l[q].w;B.style.cursor="pointer";B.addEventListener("mouseover",function(a){ca=a}.bind(this,q+1));t.appendChild(B);x.appendChild(t)}}e+=c;m.appendChild(x)}l.appendChild(m);this.h.setContent(l);this.h.Vb(ta)}};this.vd=function(a){this.l.splice(a,1);null!=this.infoWindow&&this.infoWindow.Ub(a);this.I.splice(a,1);this.ha()};var d=[0,1,2,2,2,3,3,3,3,3,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6];this.ya=function(){if(null==this.infoWindow){this.infoWindow=
new F({map:n,position:this.h.getPosition(),minWidth:50});for(var a=0;a<this.I.length;a++)this.infoWindow.ib('<img src="'+this.l[a].w+'" />',linkifyHtml(this.I[a].Ra())),this.I[a].Ob(this.infoWindow)}var b=this;google.maps.event.addListenerOnce(this.infoWindow,"closeclick",function(){for(var a=0;a<b.I.length;a++)b.I[a].Nb(b.infoWindow);console.log("CLOSE");google.maps.event.trigger(n.data,"mouseout")});this.infoWindow.Yb(ca);this.infoWindow.open(n,this.h)};this.La=function(){null!=this.infoWindow&&
this.infoWindow.setMap(null)};this.Tb=function(){this.Fb().ee();A&&!A.getProperty("hovered")&&A.setProperty("highlighted",!1)};this.yb=function(){this.Fb().ua();A&&!A.getProperty("highlighted")&&A.setProperty("highlighted",!0)};this.Fb=function(){return 1==this.l.length?this.l[0]:this.l[ca-1]};google.maps.event.addListener(this.h,"click",this.ya.bind(this));google.maps.event.addListener(this.h,"mouseover",this.yb.bind(this));google.maps.event.addListener(this.h,"mouseout",this.Tb.bind(this));this.ua=
function(a,b){1==this.l.length&&this.l[0]==a?this.h.setIcon({url:b?a.ja:a.w,origin:new google.maps.Point(0,0),anchor:new google.maps.Point(7.5,7.5)}):b?this.ha(a):this.ha()}}function ua(a,b){this.P=a;this.L=b};var D=0,H=1,I=2;
function ia(){var a=va;function b(a){t[a][q[a]]=!1;for(q[a]++;q[a]<t[a].length&&!t[a][q[a]];)q[a]++}function c(){k=(k+1)%e;for(var a=0;m[k]!=g&&!(k=(k+1)%e,a++,k!=l&&a>=e););if(!(a<e))for(a=0;0==m[k];)if(k=(k+1)%e,a++,k!=l&&a>=e){k=0<m[l]?l:-1;break}}function d(a,b){for(var c=0,d=Array(b),e=p[a],f=0;f<g&&(!e[f]||(e[f]=!1,d[c++]=[a,f,15],c!=b));f++);return d}for(var e=a.Gb(J),g=a.Gb(wa),f=a.$c(),k,l,m=Array(e),p=Array(e),x=Array(e),w=0;w<e;w++)p[w]=Array(g);for(var q=Array(3),t=Array(3),w=1;3>w;w++)t[w]=
Array(f);this.zd=function(){k=0;l=-1;for(var a=0;a<e;a++){m[a]=g;for(var b=0;b<g;b++)p[a][b]=!0;x[a]=0}for(a=1;3>a;a++)for(b=q[a]=0;b<f;b++)t[a][b]=!0};this.zd();this.Ga=function(a){var c;if(null==c){if(q[a]>=t[a].length)throw"No color for polygons left!";c=q[a];b(a);return c+f*(a-1)}var d=c-f*(a-1);if(0>d||d>=f)throw"Index not valid for this overlay type!";d==q[a]?b(a):t[a][d]=!1;return c};this.lb=function(a,b){if(0==b)return[];for(var c=Array(b),d=0;d<b;d++)c[d]=this.Ga(a);return c};this.ce=function(a,
b){var c=b-f*(a-1);t[a][c]=!0;c<q[a]&&(q[a]=c)};this.Pa=function(b){b=a.Ab(b%f);return"#"+K(b[0])+K(b[1])+K(b[2])};this.nb=function(a,b,f){if(0==a)return[];if(null==f){a:{if(-1==k)throw"No symbols left!";if(1==b&&(-1==l&&(l=k,c()),0<m[l])){m[l]--;a=d(l,1);break a}if(m[k]>=a)b=d(k,a),m[k]-=a,c(),a=b;else{for(b=k+1;b!=k;b=(b+1)%e)if(m[b]>=a){m[b]-=a;break}if(b==k)throw"Not enough symbols left!";a=d(b,a)}}return a}m[f]-=a;return d(f,a)};this.Bc=function(a){jQuery.isArray(a)?(p[a[0]][a[1]]=!1,m[a[0]]--,
k==a[0]&&c()):this.mb(a);return a};this.mb=function(a){if(jQuery.isArray(a))p[a[0]][a[1]]=!1,m[a[0]]--,-1==l&&(l=a[0],k==l&&c());else{var d=Math.floor(a/f)+1,e=a-f*(d-1);q[d]==a?b(d):t[d][e]=!1}return a};this.de=function(a,b){p[a][b]=!0;m[a]++;m[a]==g&&(k>a&&(k=a),a==l&&(l=-1));if(-1==k||k==l)k=a};this.oa=function(b){var c;null==c&&(c=15);b=a.Db(b);c=PATH.symbolGenerator+"?size="+c;for(var d in b)c+="&"+d+"="+encodeURIComponent(b[d]);return c};this.Lc=function(b){var c;null==c&&(c=15);b=a.bd(b);c=
PATH.symbolGenerator+"?size="+c;for(var d in b)c+="&"+d+"="+encodeURIComponent(b[d]);return c};this.ub=function(b){var c=PATH.symbolGenerator+"?size=15&shape=circle";return c+="&color="+a.Ab(b)};this.Pc=function(b){b=a.Db(b).color;return"#"+K(b[0])+K(b[1])+K(b[2])};this.vb=function(a){return a}}var J=0,wa=1;function L(a,b,c,d){this.name=a;this.values=b;this.overflow=null==d?b.length:d;this.kd=null==c?!1:c};function aa(){function a(a,b,c){jQuery.post(ajaxurl,{action:"im_u",namespace:"comments",mode:a,content:b,lang:d,key:e,name:PATH.mapName,_wpnonce:jQuery("#_wpnonce_comments").val()},function(a){c(a)})}var b=new Map,c=new Map,d,e,g=!1,f=!1;this.cb=function(){return!0};this.hb=function(a,d){var e=c.get(a);void 0===e?(b.set(a,d),c.set(a,1)):c.set(a,e+1)};this.xd=function(a){var d=c.get(a);void 0!==d&&(1===d?(b["delete"](a),c["delete"](a)):c.set(a,d-1))};this.Bb=function(a){return b.get(a)};this.fe=function(a,
d,e){var f=b.get(a);void 0===f?""!==e&&(f={},f[d]=e,b.set(a,f),c.set(a,1)):""==e?(delete f[d],jQuery.isEmptyObject(f)&&(b["delete"](a),c["delete"](a))):f[d]=e};this.gd=function(a){return b.has(a)};this.Pb=function(a,b,c){f=this.cb(a,b);var g=!1;e=b;d=PATH.language;jQuery("#commentTitle").text(z.ra(a)+" "+z.M(a,b));jQuery("#commentTabs").tabs("disable");a=this.Bb(b);for(var k in a)this.aa(k,a[k],c),k==d&&(g=!0);g||(c?this.aa(d,"",c):this.aa(d,"<font color='red'>"+TRANSLATIONS.COMMENT_LANG_MISSING+
"</font>",c));g=jQuery('#commentTabs a[href="#ctabs-'+d+'"]').parent().index();jQuery("#commentTabs").tabs("option","active",g);this.na(jQuery("#commentContent-"+d),c);jQuery("#commentWindow").dialog({minWidth:700,maxHeight:600,beforeClose:this.zc.bind(this)})};this.aa=function(a,b,c){null==b&&(b="");jQuery("#commentContent-"+a).html(b);jQuery("#commentTabs").tabs("enable","#ctabs-"+a);c?(jQuery("#saveComment-"+a).css("display","inline"),jQuery("#editComment-"+a).css("display","none"),jQuery("#commentContent-"+
a).html("<textarea id='commentEditField' style='width: 95%; height: 150pt;'>"+b+"</textarea>"),jQuery("#commentContent-"+a+" textarea").focus()):(jQuery("#saveComment-"+a).css("display","none"),f?jQuery("#editComment-"+a).css("display","inline"):jQuery("#editComment-"+a).css("display","none"))};this.Nc=function(){a("get",null,function(a){v.aa(d,JSON.parse(a),!0);g=!0})};this.Bd=function(){var b=this;a("update",jQuery("#commentEditField").val(),function(a){b.ma(jQuery("#commentContent-"+d),!0);v.fe(e,
d,a);r.update();g=!1;""==a?jQuery("#commentWindow").dialog("close"):(jQuery("#commentContent-"+d).html(a),jQuery("#saveComment-"+d).css("display","none"),jQuery("#editComment-"+d).css("display","inline"),b.na(jQuery("#commentContent-"+d),!1))})};this.Ac=function(a,c){if(g){if(confirm(TRANSLATIONS.SAVE_CHANGES))return!1;var f=b.get(e)[d];null==f?this.aa(d,"<font color='red'>"+TRANSLATIONS.COMMENT_LANG_MISSING+"</font>",!1):this.aa(d,f,!1);g=!1}jQuery("#commentWindow").is(":visible")&&this.ma(jQuery("#commentContent-"+
d),g);f=c.newPanel.attr("id");d=f.substring(f.length-2);this.na(jQuery("#commentContent-"+d),g);return!0};this.zc=function(){if(g){if(confirm(TRANSLATIONS.SAVE_CHANGES))return!1;g=!1}this.ma(jQuery("#commentContent-"+d),g)};this.na=function(){};this.ma=function(){}};function ja(){this.state={};this.Rd=function(a,b){this.state[a]=b}};function da(){this.da={};this.jb={};this.Ua={simple:xa};this.A={};this.A["-1"]=new M(-1,"?","","");this.$=function(a){this.A[a.la]=a;null!=a.element&&a.element.change(this.Xd.bind(this,a.element,a.la,a.xb))};this.ca=function(a,b){this.da[a]=b};this.oc=function(a,b){this.jb[a]=b};this.Sc=function(a){a=this.A[a].td;return void 0===a?"":a};this.md=function(a,b){return-1==b?!1:this.A[a].Zb};this.ra=function(a){return this.A[a].name};this.Oc=function(a){return this.A[a].Ec};this.M=function(a,b){var c=
this.jb[b];if(void 0!==c)return c;c=this.A[a];return void 0==c.rb?(c=c.element,null==c?b:c.data("getName")(b)):c.rb(b)};this.Zc=function(a,b,c){a=this.A[a];if(a.bc){var d=a.bc;c&&(d+=" ("+this.M(a.la,b)+")");return d}return null};this.Wc=function(a,b,c){a=this.A[a];if(a.ac){var d=a.ac;c&&(d+=" ("+this.M(a.la,b)+")");return d}return null};this.Uc=function(a){return this.A[a].xa};this.Rc=function(a,b){var c=this.A[a];return null==c.Ka?"":1==b?" (1 "+c.Ka+")":" ("+b+" "+c.tb+")"};this.Xd=function(a,
b,c){var d=this.Oc(b)+a.data("getSelectedValue")();a.data("reset")();if(0!=d)if(void 0==c||0==c.length)this.Z(b,d);else{var e=this;jQuery("#IM_filter_popup_title").text(this.M(b,d));jQuery("#IM_filter_popup_content").empty();var g=Array(c.length);for(a=0;a<c.length;a++)g[a]=c[a].ta(b,d),jQuery("#IM_filter_popup_content").append(g[a]),c[a].Ea(g[a],b,d);jQuery("#IM_filter_popup_submit").unbind("click");jQuery("#IM_filter_popup_submit").click(function(){jQuery("#IM_filter_popup_div").dialog("close");
for(var a={},k=0;k<c.length;k++)c[k].Ba(a,g[k],b,d);e.Z(b,d,a)});jQuery("#IM_filter_popup_div").dialog({minWidth:700,resizable:!1,modal:!0,title:this.ra(b)})}};this.Lb=function(a){a={action:"im_a",namespace:"load_syn_map",key:a,lang:PATH.language,_wpnonce:jQuery("#_wpnonce").val()};for(var b in this.da)a[b]=this.da[b];jQuery.post(ajaxurl,a,function(a){if("NO_MAP"==a)console.error("Map does not exist!");else{a=JSON.parse(a);var b=a[0];n.setCenter(new google.maps.LatLng(b.Center_Lat,b.Center_Lng));
n.setZoom(1*b.Zoom);for(b=0;b<a[1].length;b++){var c=a[1][b];z.Z(1*c.category,c.key,c.filter,c.fixedColors)}}})};this.Z=function(a,b,c,d){var e=r.Xc(a,b);if(null!=e&&null==d)e.visible()||(r.update(),e.visible(!0,!0));else{var g={key:b},f;for(f in this.da)g[f]=this.da[f];void 0!=c&&(g.filter=c);null!=d&&null!=e&&(g.noComments=!0);var k=!1,l;void 0!=c&&(l=c.subElementCategory);var m=z.md(a,l);null==e&&(e=m?new ma(a,b):new C(a,b),r.Fc(),r.addElement(e),k=!0);r.update();var p=this;ya(a,g,function(a){-1==
a?(alert("Loading error! No Sever response!"),r.G(e,!0)):"Error"==a.substring(0,5)?(alert(a),r.G(e,!0)):(a=JSON.parse(a),a[3]&&jQuery("#im_debug_area").html(a[3]),m?p.Kc(a,e,d,!k):p.Ic(a,e,c,d,!k),void 0!=c&&(e.fa=c))})}};this.Cd=function(){var a="1"==jQuery("input[name='IM_Syn_Map_All']:checked").val(),b=!0;if(!a){for(var c=0;c<r.getLength();c++)if(r.Cb(c).visible()){b=!1;break}if(b){alert(TRANSLATIONS.NO_SELECTION);return}}var d=jQuery("#IM_Syn_Map_Name").val();if(""==d)alert(TRANSLATIONS.ENTER_NAME);
else{var b=jQuery("#IM_Syn_Map_Description").val(),c=jQuery("#IM_Syn_Map_Release").prop("checked"),e=n.getCenter();jQuery.post(ajaxurl,{action:"im_u",namespace:"save_syn_map",name:d,description:b,release:c?"Applied":"Private",zoom:n.getZoom(),center_lat:e.lat(),center_lng:e.lng(),author:PATH.userName,data:r.Qc(a),_wpnonce:jQuery("#_wpnonce_syn_map_save").val()},function(a){"NAME_EXISTS"==a?alert(TRANSLATIONS.MAP_ALREADY_EXISTS):(isNaN(a)||-1==1*a?alert(TRANSLATIONS.SAVE_MAP_ERROR+" ("+a+")"):alert(TRANSLATIONS.SAVE_MAP_SUCCESS),
jQuery("#IM_Save_Syn_Map").dialog("close"),jQuery("#IM_Syn_Map_Selection").append('<option value="'+a+'">'+d+"<option>").trigger("chosen:updated"))})}};this.Kc=function(a,b,c,d){var e;try{null!=c&&(e=c["-1"]),e=this.Jc(a[0],b,e,d)}catch(p){alert(TRANSLATIONS.NO_SYMBOLS_LEFT);r.G(b,!0);return}d||(b.F==D?(b.w=u.oa(e),b.ja=u.oa(u.vb(e))):b.w=u.ub(e));c=!d||b.visible();if(Object.getPrototypeOf(Object(a[1]))===Object.getPrototypeOf([]))r.G(b,!0),alert(TRANSLATIONS.NO_DATA+" ("+z.M(b.j,b.key)+")!");else{d=
a[1]["-1"][1];e=d.length;for(var g=0;g<e;g++){var f=d[g];if(null==f[1])console.error("Element "+JSON.stringify(f[0]).substring(0,50)+" has no geo data!"),g++;else{var k=za(f[1]),l=this.Ua[f[0].elementType];delete f[0].elementType;if(void 0==l)throw"InfoWindow type not found!";f=new ua(new l(f[0]),k);b.N.push(f);c&&null!=f.L&&y.Ca(f,b)}}for(var m in a[2])v.hb(m,a[2][m]);b.D=!1;r.update()}};this.Jc=function(a,b,c,d){null==c?0<a[D]?(c=u.nb(1,!0)[0],b.F=D):0<a[H]?(c=u.Ga(H),b.F=H):(c=u.Ga(I),b.F=I):d||
(c=u.mb(c),b.F=0<a[D]?D:0<a[H]?H:I);return b.u=c};this.Ic=function(a,b,c,d,e){for(var g={},f=0;f<b.c.length;f++){var k=b.Ib(f);g[k.key]=k.visible()}b.yd();var l=Object.keys(a[1]).length;if(0<l){for(var f=z.ed(b.j),f=void 0==f?Aa(a[1]):f.dd(a[1],c),k=f.length,m=void 0,p=[],x=0;3>x;x++)p[x]=a[0][x];for(var w=0;w<k;w++){var x=f[w],q=a[1][x][0],t=new ma(c.subElementCategory,x);if(void 0!=d){var B=d[x];void 0!=B&&(t.u=u.Bc(d[x]),q==D&&(m=B[J]),p[q]--)}t.F=q;t.visible(g[x]);t.parent=b;b.qc(t);b.ba++}d=
[];try{d[D]=u.nb(p[D],!1,m),void 0==m&&0<d[D].length&&(m=d[D][0][J]),d[H]=u.lb(H,p[H]),d[I]=u.lb(I,p[I])}catch(fb){alert(TRANSLATIONS.NO_SYMBOLS_LEFT+" ("+l+")");r.G(b,!0);return}p.fill(0);for(g=0;g<k;g++){x=f[g];t=b.Ib(g);q=a[1][x][0];void 0==t.u&&(t.u=d[q][p[q]++]);q==D?(t.w=u.oa(t.u),t.ja=u.oa(u.vb(t.u))):t.w=u.ub(t.u);l=a[1][x][1].length;q=!e||t.visible();w=a[1][x][1];for(B=0;B<l;B++){var G=w[B];if(null==G[1])console.error("Element "+JSON.stringify(G[0]).substring(0,50)+" has no geo data!");else{var S=
za(G[1]),ra=this.Ua[G[0].elementType];delete G[0].elementType;if(void 0==ra)throw"InfoWindow type not found!";S=new ua(new ra(G[0]),S);t.N.push(S);-1==c.subElementCategory&&this.oc(x,G[0].name);q&&null!=S.L&&y.Ca(S,t)}}t.D=!1}e||void 0==m||(b.w=u.Lc(m));for(var sa in a[2])v.hb(sa,a[2][sa]);b.D=!1;r.update()}else r.G(b,!0),alert(TRANSLATIONS.NO_DATA+" ("+z.M(b.j,b.key)+")!")};this.ed=function(a){a=this.A[a].xb;if(null!=a&&0!=a.length)for(var b=0;b<a.length;b++)if(a[b]instanceof N)return a[b].S};this.pc=
function(){this.Ua.record=Ba}}function M(a,b,c,d,e,g,f,k,l,m,p){this.la=a;this.xa="object"==typeof m&&null!=m?m:new Ca;this.Ec=b.charAt(0);this.name=c;this.td=d;this.element=null;null!=e&&(this.element=jQuery("#"+e));this.xb=g;this.tb=this.Ka=void 0;null!=f&&2<=f.length&&(this.Ka=f[0],this.tb=f[1]);this.rb=p;this.bc=k;this.Zb=!0;if(void 0!=g)for(a=0;a<g.length;a++)if(g[a]instanceof N){this.Zb=!1;break}this.ac=l};function za(a){if(-1!=a.indexOf("MULTIPOLYGON")){a=a.replace("MULTIPOLYGON(((","");a=a.replace(")))","");a=a.split(")),((");a[0].replace("((","");a[a.length-1].replace("))","");for(var b=[],c=0;c<a.length;c++)b=b.concat(Da(a[c]));a=new google.maps.Data.Polygon(b)}else if(-1!=a.indexOf("POLYGON"))a=a.replace("POLYGON((",""),a=a.replace("))",""),a=new google.maps.Data.Polygon(Da(a));else if(-1!=a.indexOf("MULTILINESTRING")){a=a.replace("MULTILINESTRING((","");a=a.replace("))","");a=a.split("),(");b=
Array(a.length);a[0].replace("(","");a[a.length-1].replace(")","");for(c=0;c<a.length;c++)b[c]=Ea(a[c]);a=new google.maps.Data.MultiLineString(b)}else-1!=a.indexOf("LINESTRING")?(a=a.replace("LINESTRING(",""),a=a.replace(")",""),a=new google.maps.Data.LineString(Ea(a))):-1!=a.indexOf("POINT")?(a=a.replace("POINT(",""),a=a.replace(")",""),a=a.split(" "),a=2!=a.length?null:new google.maps.Data.Point(new google.maps.LatLng(1*a[1],1*a[0]))):a=null;return a}
function Da(a){var b=[];a=a.split("),(");for(var c=0;c<a.length;c++){b[c]=[];for(var d=a[c].split(","),e=0;e<d.length;e++){var g=d[e].split(" ");b[c].push(new google.maps.LatLng(1*g[1],1*g[0]))}}return b}function Ea(a){var b=[];a=a.split(",");for(var c=0;c<a.length;c++){var d=a[c].split(" ");b.push(new google.maps.LatLng(1*d[1],1*d[0]))}return b};function ya(a,b,c){jQuery.post(ajaxurl,jQuery.extend({action:"im_a",namespace:"load_data",category:a,lang:PATH.language,_wpnonce:jQuery("#_wpnonce").val()},b),function(a){c(a)})}function K(a){var b;a=a.toString(16);for(b="undefined"===typeof b||null===b?b=2:b;a.length<b;)a="0"+a;return a};function la(){jQuery(".im_table_select").val("").chosen({ie:!0});jQuery(".im_table_select").each(function(){jQuery(this).data("getSelectedValue",function(){return jQuery(this).val()}.bind(this));jQuery(this).data("getName",function(a){a=a.substring(1);return jQuery(this).children("option[value='"+a+"']").first().text()}.bind(this));jQuery(this).data("reset",function(){jQuery(this).val("0").trigger("chosen:updated")}.bind(this))});jQuery(".editCommentLink").click(v.Nc);jQuery(".saveCommentButton").click(function(){v.Bd()});
jQuery(".sf-menu-toplevel").superfish();jQuery(".sf-tree-leaf").click(function(){var a=jQuery(this).closest(".sf-menu-toplevel");a.data("lastValue",jQuery(this).data("id"));a.trigger("change");jQuery(a).superfish("hide")});jQuery(".sf-menu-toplevel").each(function(){jQuery(this).data("getSelectedValue",function(){return jQuery(this).data("lastValue")}.bind(this));jQuery(this).data("getName",function(a){a=a.substring(1);return jQuery(this).find("a[data-id="+a+"]").text()}.bind(this));jQuery(this).data("reset",
function(){})});var a=jQuery("#IM_Syn_Map_Selection");a.val("").trigger("chosen:updated");a.change(function(){r.wd();z.Lb(1*a.val());a.val("").trigger("chosen:updated")});jQuery("#IM_Save_Syn_Map_Button").click(function(){0==r.getLength()?alert(TRANSLATIONS.NO_SELECTION):(jQuery("#IM_Syn_Map_Name").val(""),jQuery("#IM_Syn_Map_Description").val(""),jQuery("#IM_Save_Syn_Map").dialog({minWidth:500}))});jQuery("#IM_Save_Syn_Map_Final_Button").click(z.Cd);jQuery("#helpRelease").qtip({content:{text:TRANSLATIONS.HELP_RELEASE},
style:{je:"qtip-blue"}})};function Fa(){this.za=[];this.Da=function(a){this.za.push(a)};this.ad=function(){for(var a=[],b=0;b<this.za.length;b++)a.push(this.za[b].getName());return a};this.cd=function(a){return this.za[a]}};function na(a,b){this.xa=a;this.element=b;this.dialog=null;var c=this;this.Dc=function(){var a=document.createElement("div"),b=document.createElement("table"),c=document.createElement("tr"),f=document.createElement("td");f.appendChild(document.createTextNode(TRANSLATIONS.SELECT_LIST_TYPE));c.appendChild(f);var f=document.createElement("td"),k=document.createElement("select");k.id="listManagerPrinterSelection";for(var l=this.xa.Vc(),m=0;m<l.length;m++){var p=document.createElement("option");p.value=
m;p.appendChild(document.createTextNode(l[m]));k.appendChild(p)}f.appendChild(k);c.appendChild(f);b.appendChild(c);a.appendChild(b);return a};this.Yd=function(){var a=document.getElementById("listManagerPrinterSelection"),a=c.xa.Ad(a.options[a.selectedIndex].value,c.element);if(1==a[2]){var b=window.document.createElement("a");b.href=window.URL.createObjectURL(new Blob([a[1]],{type:a[0]}));b.download=a[3];document.body.appendChild(b);b.click();document.body.removeChild(b);b.href=null}else(-1!=a[0].indexOf("text/html")?
jQuery("<div class='htmlTypeListView'>"+a[1]+"</div>"):jQuery("<div class='customTypeListView'><pre>"+a[1]+"</pre></div>")).dialog({minWidth:700,maxHeight:600});jQuery(this).dialog("close")};this.Zd=function(){var a={me:!1,minHeight:180,le:!0,buttons:{Cancel:function(){jQuery(this).dialog("close")}}};a.buttons[TRANSLATIONS.PRINT_LIST]=this.Yd;this.dialog=jQuery(this.Dc()).dialog(a)}};var ga={center:new google.maps.LatLng(46.059547,11.13222),zoom:7,minZoom:6,mapTypeId:google.maps.MapTypeId.TERRAIN},O=Array(15);O[0]=[255,0,0];O[1]=[0,255,0];O[2]=[0,0,255];O[3]=[255,255,0];O[4]=[255,0,255];O[5]=[0,255,255];O[6]=[255,128,0];O[7]=[255,0,128];O[8]=[0,128,255];O[9]=[128,0,255];O[10]=[255,192,0];O[11]=[255,0,192];O[12]=[0,192,255];O[13]=[192,0,255];O[14]=[192,255,0];O[15]=[0,0,0];O[16]=[192,192,192];O[17]=[255,255,255];
var va=new function(a,b,c,d){function e(a){delete a.values}function g(a){return 0==a.length?[]:1==a.length?a[0].values.map(function(a){return[a]}):a[0].kd?k(a[0].values,g(a.slice(1))):f(a)}function f(a){for(var b=0,c=a.length,d=0;d<c;d++){var e=a[d].values.length;e>b&&(b=e)}e=Array(b);for(d=0;d<b;d++){for(var f=Array(c),g=0;g<c;g++){var k=a[g].values;f[g]=null==k[d]?k[k.length-a[g].overflow+(d-k.length)%a[g].overflow]:k[d]}e[d]=f}return e}function k(a,b){for(var c=a.length,d=b.length,e=Array(c*d),
f=0;f<c;f++)for(var g=0;g<d;g++)e[f*d+g]=[a[f]].concat(b[g]);return e}var l=[g(a),g(b),g(c)],m=[a,b,c];for(a=0;a<m.length;a++)m[a].map(e);this.bd=function(a){for(var b=J,c={},d=m[b],e=0;e<d.length;e++)c[d[e].name]=l[b][a][e];return c};this.Db=function(a){for(var b={},c=0;c<a.length;c++)for(var d=m[c],e=0;e<d.length;e++)b[d[e].name]=l[c][a[c]][e];return b};this.Gb=function(a){return l[a].length};this.$c=function(){return d.length};this.Ab=function(a){return d[a]}}([new L("shape","circle rect triangle triangle_i rhomb house house_i stripe_l stripe_r".split(" "))],
[new L("color",O,!1,3),new L("letter","A B C D E F G H I J K L M N O P Q R S T U V W X Y Z a b c d e f g h i j k l m n o p q r s t u v w x y z 1 2 3 4 5 6 7 8 9 ~ * + # & ? ! $ @ % ^ : - | ( ) / \\ . < > [ ] aa ab ac ad ae af ag ah ai aj ak al an ao ap aq ar as at au av ax ay az a1 a2 a3 a4 a5 a6 a7 a8 a9 ba bb bc bd be bf bg bh bi bj bk bl bn bo bp bq br bs bt bu bv bx by bz b1 b2 b3 b4 b5 b6 b7 b8 b9 ca cb cc cd ce cf cg ch ci cj ck cl cn co cp cq cr cs ct cu cv cx cy cz c1 c2 c3 c4 c5 c6 c7 c8 c9 da db dc dd de df dg dh di dj dk dl dn do dp dq dr ds dt du dv dx dy dz d1 d2 d3 d4 d5 d6 d7 d8 d9 ea eb ec ed ee ef eg eh ei ej ek el en eo ep eq er es et eu ev ex ey ez e1 e2 e3 e4 e5 e6 e7 e8 e9 fa fb fc fd fe ff fg fh fi fj fk fl fn fo fp fq fr fs ft fu fv fx fy fz f1 f2 f3 f4 f5 f6 f7 f8 f9 ga gb gc gd ge gf gg gh gi gj gk gl gn go gp gq gr gs gt gu gv gx gy gz g1 g2 g3 g4 g5 g6 g7 g8 g9 ha hb hc hd he hf hg hh hi hj hk hl hn ho hp hq hr hs ht hu hv hx hy hz h1 h2 h3 h4 h5 h6 h7 h8 h9 ia ib ic id ie if ig ih ii ij ik il in io ip iq ir is it iu iv ix iy iz i1 i2 i3 i4 i5 i6 i7 i8 i9 ja jb jc jd je jf jg jh ji jj jk jl jn jo jp jq jr js jt ju jv jx jy jz j1 j2 j3 j4 j5 j6 j7 j8 j9 ka kb kc kd ke kf kg kh ki kj kk kl kn ko kp kq kr ks kt ku kv kx ky kz k1 k2 k3 k4 k5 k6 k7 k8 k9 la lb lc ld le lf lg lh li lj lk ll ln lo lp lq lr ls lt lu lv lx ly lz l1 l2 l3 l4 l5 l6 l7 l8 l9 na nb nc nd ne nf ng nh ni nj nk nl nn no np nq nr ns nt nu nv nx ny nz n1 n2 n3 n4 n5 n6 n7 n8 n9 oa ob oc od oe of og oh oi oj ok ol on oo op oq or os ot ou ov ox oy oz o1 o2 o3 o4 o5 o6 o7 o8 o9 pa pb pc pd pe pf pg ph pi pj pk pl pn po pp pq pr ps pt pu pv px py pz p1 p2 p3 p4 p5 p6 p7 p8 p9 qa qb qc qd qe qf qg qh qi qj qk ql qn qo qp qq qr qs qt qu qv qx qy qz q1 q2 q3 q4 q5 q6 q7 q8 q9 ra rb rc rd re rf rg rh ri rj rk rl rn ro rp rq rr rs rt ru rv rx ry rz r1 r2 r3 r4 r5 r6 r7 r8 r9 sa sb sc sd se sf sg sh si sj sk sl sn so sp sq sr ss st su sv sx sy sz s1 s2 s3 s4 s5 s6 s7 s8 s9 ta tb tc td te tf tg th ti tj tk tl tn to tp tq tr ts tt tu tv tx ty tz t1 t2 t3 t4 t5 t6 t7 t8 t9 ua ub uc ud ue uf ug uh ui uj uk ul un uo up uq ur us ut uu uv ux uy uz u1 u2 u3 u4 u5 u6 u7 u8 u9 va vb vc vd ve vf vg vh vi vj vk vl vn vo vp vq vr vs vt vu vv vx vy vz v1 v2 v3 v4 v5 v6 v7 v8 v9 xa xb xc xd xe xf xg xh xi xj xk xl xn xo xp xq xr xs xt xu xv xx xy xz x1 x2 x3 x4 x5 x6 x7 x8 x9 ya yb yc yd ye yf yg yh yi yj yk yl yn yo yp yq yr ys yt yu yv yx yy yz y1 y2 y3 y4 y5 y6 y7 y8 y9 za zb zc zd ze zf zg zh zi zj zk zl zn zo zp zq zr zs zt zu zv zx zy zz z1 z2 z3 z4 z5 z6 z7 z8 z9 1a 1b 1c 1d 1e 1f 1g 1h 1i 1j 1k 1l 1n 1o 1p 1q 1r 1s 1t 1u 1v 1x 1y 1z 11 12 13 14 15 16 17 18 19 2a 2b 2c 2d 2e 2f 2g 2h 2i 2j 2k 2l 2n 2o 2p 2q 2r 2s 2t 2u 2v 2x 2y 2z 21 22 23 24 25 26 27 28 29 3a 3b 3c 3d 3e 3f 3g 3h 3i 3j 3k 3l 3n 3o 3p 3q 3r 3s 3t 3u 3v 3x 3y 3z 31 32 33 34 35 36 37 38 39 4a 4b 4c 4d 4e 4f 4g 4h 4i 4j 4k 4l 4n 4o 4p 4q 4r 4s 4t 4u 4v 4x 4y 4z 41 42 43 44 45 46 47 48 49 5a 5b 5c 5d 5e 5f 5g 5h 5i 5j 5k 5l 5n 5o 5p 5q 5r 5s 5t 5u 5v 5x 5y 5z 51 52 53 54 55 56 57 58 59 6a 6b 6c 6d 6e 6f 6g 6h 6i 6j 6k 6l 6n 6o 6p 6q 6r 6s 6t 6u 6v 6x 6y 6z 61 62 63 64 65 66 67 68 69 7a 7b 7c 7d 7e 7f 7g 7h 7i 7j 7k 7l 7n 7o 7p 7q 7r 7s 7t 7u 7v 7x 7y 7z 71 72 73 74 75 76 77 78 79 8a 8b 8c 8d 8e 8f 8g 8h 8i 8j 8k 8l 8n 8o 8p 8q 8r 8s 8t 8u 8v 8x 8y 8z 81 82 83 84 85 86 87 88 89 9a 9b 9c 9d 9e 9f 9g 9h 9i 9j 9k 9l 9n 9o 9p 9q 9r 9s 9t 9u 9v 9x 9y 9z 91 92 93 94 95 96 97 98 99".split(" "))],
[new L("border_color",O)],O);function N(a,b,c,d){this.Ia=a;this.Mc=b;this.S=c;this.$d=void 0==d?function(){return!0}:d;this.ta=function(a,b){var c=document.createElement("div");c.className="filterComponent";c.id="groupingComponent";var d=document.createElement("h2");d.appendChild(document.createTextNode(TRANSLATIONS.GROUPING));c.appendChild(d);for(d=0;d<this.Ia.length;d++){var e=this.Ia[d],g=document.createElement("input");g.type="radio";g.name="subElementCategory";g.value=e;this.Ia[d]==this.Mc&&(g.checked=!0);c.appendChild(g);
c.appendChild(document.createTextNode(z.ra(e)+" "))}c.appendChild(document.createElement("br"));null!=this.S&&(c.appendChild(document.createElement("br")),c.appendChild(this.S.ta(a,b)));return c};this.Ba=function(a){a.subElementCategory=jQuery("#groupingComponent input[name=subElementCategory]:checked").val();this.S&&this.S.Ba(a)};this.Ea=function(a,b,c){if(null!=this.S){var d=this.S.fb.length,e=this.$d,f=function(a){for(var f=0;f<d;f++){var g=e(b,c,a,f),k=jQuery("#sortingComponent input[name=sortName][value="+
f+"]");k.prop("disabled",!g);!g&&k.is(":checked")&&1<d&&(g=0==f?jQuery("#sortingComponent input[name=sortName][value=1]"):jQuery("#sortingComponent input[name=sortName][value=0]"),g.prop("checked",!0),g.trigger("click"))}};f(jQuery(a).find("input[name=subElementCategory]:checked").val());jQuery(a).find("input[name=subElementCategory]").on("change",function(){this.checked&&f(this.value)})}}};function P(a){this.fb=a;this.dd=function(b,c){var d=Aa(b),e=a[c.sorter.sortType];e.eb=c.sorter.sortOrder;e.Va(d,b,c);return d.sort(e.Ja.bind(e))};this.ta=function(){var a=document.createElement("div");a.className="filterComponent";a.id="sortingComponent";var c=document.createElement("h2");c.appendChild(document.createTextNode(TRANSLATIONS.SORTING));a.appendChild(c);for(var c=document.createElement("div"),d=0;d<this.fb.length;d++){var e=this.fb[d],g=document.createElement("input");g.type="radio";g.name=
"sortName";g.value=d;0==d&&(g.checked=!0);g.addEventListener("click",function(a){jQuery(".sortOrderDiv").toggle(!1);jQuery(a).toggle(!0)}.bind(this,"#sortOrder"+d));a.appendChild(g);a.appendChild(document.createTextNode(e.getName()+" "));var f=document.createElement("div");f.className="sortOrderDiv";f.id="sortOrder"+d;f.style.marginLeft="20px";0<d&&(f.style.display="none");for(var k=e.Sa(),l=0;l<k;l++){var m=e.Ta(l),g=document.createElement("input");g.type="radio";g.name="sortOrder"+d;g.value=l;l==
e.Qa()&&(g.checked=!0);var p=document.createElement("div");p.appendChild(g);p.appendChild(document.createTextNode(m+" "));f.appendChild(p)}c.appendChild(f)}a.appendChild(c);return a};this.Ba=function(a){var b=jQuery("#sortingComponent input[name=sortName]:checked"),b={sortType:b.val(),sortOrder:jQuery("#sortingComponent input[name=sortOrder"+b.val()+"]:checked").val()};a.sorter=b};this.Ea=function(){}}function Aa(a){var b=[],c;for(c in a)b.push(c);return b}
function Ga(a,b){for(var c={},d=b.subElementCategory,e=0;e<a.length;e++){var g=a[e];c[g]=z.M(d,g)}return c};function xa(a){this.data=a;this.Hc='<div style="max-height: 300px; max-width: 600px;"><div style="max-height: 300px; max-width: 600px; overflow: auto; line-height: 1.35;"><h2>'+a.name+"</h2><br />"+a.description+"</div></div>";this.Ra=function(){return this.Hc};this.cc=function(){return!1};this.Ob=function(){};this.Nb=function(){};this.getData=function(){return[this.data]}};function Ca(){this.pa=["name","description"];this.ga=new Fa;this.Vc=function(){return this.ga.ad()};this.Ad=function(a,b){for(var c=b.N,d=this.ga.cd(a),e=[],g=0;g<c.length;g++)for(var f=c[g].P.getData(),k=0;k<f.length;k++){var l={};if("undefined"!==typeof this.pa)for(var m=0;m<this.pa.length;m++)l[this.pa[m]]=f[k][this.pa[m]];else for(var p in f[k])l[p]=f[k][p];e.push(l)}return[d.getType(),d.Ha(e),d.Wa(),d.Ma()]}};function F(a){this.extend(F,google.maps.OverlayView);this.f=[];this.o=null;this.H=100;this.wa=!1;a=a||{};void 0==a.backgroundColor&&(a.backgroundColor=this.gc);void 0==a.borderColor&&(a.borderColor=this.hc);void 0==a.borderRadius&&(a.borderRadius=this.ic);void 0==a.borderWidth&&(a.borderWidth=this.jc);void 0==a.padding&&(a.padding=this.mc);void 0==a.arrowPosition&&(a.arrowPosition=this.dc);void 0==a.disableAutoPan&&(a.disableAutoPan=!1);void 0==a.disableAnimation&&(a.disableAnimation=!1);void 0==
a.minWidth&&(a.minWidth=this.lc);void 0==a.shadowStyle&&(a.shadowStyle=this.nc);void 0==a.arrowSize&&(a.arrowSize=this.ec);void 0==a.arrowStyle&&(a.arrowStyle=this.fc);void 0==a.closeSrc&&(a.closeSrc=this.kc);Ha(this);this.setValues(a)}window.InfoBubble=F;h=F.prototype;h.ec=15;h.fc=0;h.nc=1;h.lc=50;h.dc=50;h.mc=10;h.jc=1;h.hc="#ccc";h.ic=10;h.gc="#fff";h.kc="https://maps.gstatic.com/intl/en_us/mapfiles/iw_close.gif";
h.extend=function(a,b){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])};
function Ha(a){var b=a.i=document.createElement("DIV");b.style.position="absolute";b.style.zIndex=a.H;(a.U=document.createElement("DIV")).style.position="relative";var c=a.W=document.createElement("IMG");c.style.position="absolute";c.style.border=0;c.style.zIndex=a.H+1;c.style.cursor="pointer";c.src=a.get("closeSrc");google.maps.event.addDomListener(c,"click",function(){a.close();google.maps.event.trigger(a,"closeclick")});var d=a.B=document.createElement("DIV");d.style.overflowX="auto";d.style.overflowY=
"auto";d.style.cursor="default";d.style.clear="both";d.style.position="relative";var e=a.K=document.createElement("DIV");d.appendChild(e);e=a.wc=document.createElement("DIV");e.style.position="relative";var g=a.Fa=document.createElement("DIV"),f=a.ka=document.createElement("DIV"),k=Q(a);g.style.position=f.style.position="absolute";g.style.left=f.style.left="50%";g.style.height=f.style.height="0";g.style.width=f.style.width="0";g.style.marginLeft=R(-k);g.style.borderWidth=R(k);g.style.borderBottomWidth=
0;k=a.b=document.createElement("DIV");k.style.position="absolute";b.style.display=k.style.display="none";b.appendChild(a.U);b.appendChild(c);b.appendChild(d);e.appendChild(g);e.appendChild(f);b.appendChild(e);b=document.createElement("style");b.setAttribute("type","text/css");a.J="_ibani_"+Math.round(1E4*Math.random());b.textContent="."+a.J+"{-webkit-animation-name:"+a.J+";-webkit-animation-duration:0.5s;-webkit-animation-iteration-count:1;}@-webkit-keyframes "+a.J+" {from {-webkit-transform: scale(0)}50% {-webkit-transform: scale(1.2)}90% {-webkit-transform: scale(0.95)}to {-webkit-transform: scale(1)}}";
document.getElementsByTagName("head")[0].appendChild(b)}h.Gd=function(a){this.set("backgroundClassName",a)};F.prototype.setBackgroundClassName=F.prototype.Gd;F.prototype.xc=function(){this.K.className=this.get("backgroundClassName")};F.prototype.backgroundClassName_changed=F.prototype.xc;F.prototype.Ud=function(a){this.set("tabClassName",a)};F.prototype.setTabClassName=F.prototype.Ud;F.prototype.ae=function(){T(this)};F.prototype.tabClassName_changed=F.prototype.ae;
F.prototype.Fd=function(a){this.set("arrowStyle",a)};F.prototype.setArrowStyle=F.prototype.Fd;F.prototype.vc=function(){this.kb()};F.prototype.arrowStyle_changed=F.prototype.vc;function Q(a){return parseInt(a.get("arrowSize"),10)||0}F.prototype.Ed=function(a){this.set("arrowSize",a)};F.prototype.setArrowSize=F.prototype.Ed;F.prototype.kb=function(){this.pb()};F.prototype.arrowSize_changed=F.prototype.kb;F.prototype.Dd=function(a){this.set("arrowPosition",a)};F.prototype.setArrowPosition=F.prototype.Dd;
F.prototype.uc=function(){var a=parseInt(this.get("arrowPosition"),10)||0;this.Fa.style.left=this.ka.style.left=a+"%";U(this)};F.prototype.arrowPosition_changed=F.prototype.uc;F.prototype.setZIndex=function(a){this.set("zIndex",a)};F.prototype.setZIndex=F.prototype.setZIndex;F.prototype.getZIndex=function(){return parseInt(this.get("zIndex"),10)||this.H};F.prototype.gb=function(){var a=this.getZIndex();this.i.style.zIndex=this.H=a;this.W.style.zIndex=a+1};F.prototype.zIndex_changed=F.prototype.gb;
F.prototype.Td=function(a){this.set("shadowStyle",a)};F.prototype.setShadowStyle=F.prototype.Td;F.prototype.Vd=function(){var a="",b="",c="";switch(parseInt(this.get("shadowStyle"),10)||0){case 0:a="none";break;case 1:b="40px 15px 10px rgba(33,33,33,0.3)";c="transparent";break;case 2:b="0 0 2px rgba(33,33,33,0.3)",c="rgba(33,33,33,0.35)"}this.b.style.boxShadow=this.b.style.webkitBoxShadow=this.b.style.MozBoxShadow=b;this.b.style.backgroundColor=c;this.wa&&(this.b.style.display=a,this.draw())};
F.prototype.shadowStyle_changed=F.prototype.Vd;F.prototype.Wd=function(){this.set("hideCloseButton",!1)};F.prototype.showCloseButton=F.prototype.Wd;F.prototype.hd=function(){this.set("hideCloseButton",!0)};F.prototype.hideCloseButton=F.prototype.hd;F.prototype.jd=function(){this.W.style.display=this.get("hideCloseButton")?"none":""};F.prototype.hideCloseButton_changed=F.prototype.jd;F.prototype.Hd=function(a){a&&this.set("backgroundColor",a)};F.prototype.setBackgroundColor=F.prototype.Hd;
F.prototype.yc=function(){var a=this.get("backgroundColor");this.B.style.backgroundColor=a;this.ka.style.borderColor=a+" transparent transparent";T(this)};F.prototype.backgroundColor_changed=F.prototype.yc;F.prototype.Id=function(a){a&&this.set("borderColor",a)};F.prototype.setBorderColor=F.prototype.Id;
F.prototype.Cc=function(){var a=this.get("borderColor"),b=this.B,c=this.Fa;b.style.borderColor=a;c.style.borderColor=a+" transparent transparent";b.style.borderStyle=c.style.borderStyle=this.ka.style.borderStyle="solid";T(this)};F.prototype.borderColor_changed=F.prototype.Cc;F.prototype.Jd=function(a){this.set("borderRadius",a)};F.prototype.setBorderRadius=F.prototype.Jd;function Ia(a){return parseInt(a.get("borderRadius"),10)||0}
F.prototype.ob=function(){var a=Ia(this),b=V(this);this.B.style.borderRadius=this.B.style.MozBorderRadius=this.B.style.webkitBorderRadius=this.b.style.borderRadius=this.b.style.MozBorderRadius=this.b.style.webkitBorderRadius=R(a);this.U.style.paddingLeft=this.U.style.paddingRight=R(a+b);U(this)};F.prototype.borderRadius_changed=F.prototype.ob;function V(a){return parseInt(a.get("borderWidth"),10)||0}F.prototype.Kd=function(a){this.set("borderWidth",a)};F.prototype.setBorderWidth=F.prototype.Kd;
F.prototype.pb=function(){var a=V(this);this.B.style.borderWidth=R(a);this.U.style.top=R(a);var a=V(this),b=Q(this),c=parseInt(this.get("arrowStyle"),10)||0,d=R(b),e=R(Math.max(0,b-a)),g=this.Fa,f=this.ka;this.wc.style.marginTop=R(-a);g.style.borderTopWidth=d;f.style.borderTopWidth=e;0==c||1==c?(g.style.borderLeftWidth=d,f.style.borderLeftWidth=e):g.style.borderLeftWidth=f.style.borderLeftWidth=0;0==c||2==c?(g.style.borderRightWidth=d,f.style.borderRightWidth=e):g.style.borderRightWidth=f.style.borderRightWidth=
0;2>c?(g.style.marginLeft=R(-b),f.style.marginLeft=R(-(b-a))):g.style.marginLeft=f.style.marginLeft=0;g.style.display=0==a?"none":"";T(this);this.ob();U(this)};F.prototype.borderWidth_changed=F.prototype.pb;F.prototype.Sd=function(a){this.set("padding",a)};F.prototype.setPadding=F.prototype.Sd;F.prototype.Ld=function(a){a&&this.W&&(this.W.src=a)};F.prototype.setCloseSrc=F.prototype.Ld;function W(a){return parseInt(a.get("padding"),10)||0}
F.prototype.ud=function(){var a=W(this);this.B.style.padding=R(a);T(this);U(this)};F.prototype.padding_changed=F.prototype.ud;function R(a){return a?a+"px":a}function Ja(a){var b="mousedown mousemove mouseover mouseout mouseup mousewheel DOMMouseScroll touchstart touchend touchmove dblclick contextmenu click".split(" "),c=a.i;a.Kb=[];for(var d=0,e;e=b[d];d++)a.Kb.push(google.maps.event.addDomListener(c,e,function(a){a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation()}))}
F.prototype.onAdd=function(){this.i||Ha(this);Ja(this);var a=this.getPanes();a&&(a.floatPane.appendChild(this.i),a.floatShadow.appendChild(this.b));google.maps.event.trigger(this,"domready")};F.prototype.onAdd=F.prototype.onAdd;
F.prototype.draw=function(){var a=this.getProjection();if(a){var b=this.get("position");if(b){var c=0;this.o&&(c=this.o.offsetHeight);var d=Ka(this),e=Q(this),g=parseInt(this.get("arrowPosition"),10)||0,g=g/100,a=a.fromLatLngToDivPixel(b);if(b=this.B.offsetWidth){var f=a.y-(this.i.offsetHeight+e);d&&(f-=d);var k=a.x-b*g;this.i.style.top=R(f);this.i.style.left=R(k);switch(parseInt(this.get("shadowStyle"),10)){case 1:this.b.style.top=R(f+c-1);this.b.style.left=R(k);this.b.style.width=R(b);this.b.style.height=
R(this.B.offsetHeight-e);break;case 2:b*=.8,this.b.style.top=d?R(a.y):R(a.y+e),this.b.style.left=R(a.x-b*g),this.b.style.width=R(b),this.b.style.height=R(2)}}}else this.close()}};F.prototype.draw=F.prototype.draw;F.prototype.onRemove=function(){this.i&&this.i.parentNode&&this.i.parentNode.removeChild(this.i);this.b&&this.b.parentNode&&this.b.parentNode.removeChild(this.b);for(var a=0,b;b=this.Kb[a];a++)google.maps.event.removeListener(b)};F.prototype.onRemove=F.prototype.onRemove;F.prototype.ld=function(){return this.wa};
F.prototype.isOpen=F.prototype.ld;F.prototype.close=function(){this.i&&(this.i.style.display="none",this.i.className=this.i.className.replace(this.J,""));this.b&&(this.b.style.display="none",this.b.className=this.b.className.replace(this.J,""));this.wa=!1};F.prototype.close=F.prototype.close;F.prototype.open=function(a,b){var c=this;window.setTimeout(function(){La(c,a,b)},0)};
function La(a,b,c){Ma(a);b&&a.setMap(b);c&&(a.set("anchor",c),a.bindTo("anchorPoint",c),a.bindTo("position",c));a.i.style.display=a.b.style.display="";a.get("disableAnimation")||(a.i.className+=" "+a.J,a.b.className+=" "+a.J);U(a);a.wa=!0;a.get("disableAutoPan")||window.setTimeout(function(){a.Za()},200)}F.prototype.open=F.prototype.open;F.prototype.setPosition=function(a){a&&this.set("position",a)};F.prototype.setPosition=F.prototype.setPosition;F.prototype.getPosition=function(){return this.get("position")};
F.prototype.getPosition=F.prototype.getPosition;F.prototype.$a=function(){this.draw()};F.prototype.position_changed=F.prototype.$a;F.prototype.Za=function(){var a=this.getProjection();if(a&&this.i){var b=Ka(this),c=this.i.offsetHeight+b,b=this.get("map"),d=b.getDiv().offsetHeight,e=this.getPosition(),g=a.fromLatLngToContainerPixel(b.getCenter()),e=a.fromLatLngToContainerPixel(e),c=g.y-c,d=d-g.y,g=0;0>c&&(g=(-1*c+d)/2);e.y-=g;e=a.fromContainerPixelToLatLng(e);b.getCenter()!=e&&b.panTo(e)}};
F.prototype.panToView=F.prototype.Za;F.prototype.va=function(a){a=a.replace(/^\s*([\S\s]*)\b\s*$/,"$1");var b=document.createElement("DIV");b.innerHTML=a;if(1==b.childNodes.length)return b.removeChild(b.firstChild);for(a=document.createDocumentFragment();b.firstChild;)a.appendChild(b.firstChild);return a};F.prototype.ab=function(a){if(a)for(var b;b=a.firstChild;)a.removeChild(b)};F.prototype.setContent=function(a){this.set("content",a)};F.prototype.setContent=F.prototype.setContent;
F.prototype.getContent=function(){return this.get("content")};F.prototype.getContent=F.prototype.getContent;function Ma(a){if(a.K){a.ab(a.K);var b=a.getContent();if(b){"string"==typeof b&&(b=a.va(b));a.K.appendChild(b);for(var b=a.K.getElementsByTagName("IMG"),c=0,d;d=b[c];c++)google.maps.event.addDomListener(d,"load",function(){var b=!a.get("disableAutoPan");U(a);!b||0!=a.f.length&&0!=a.o.index||a.Za()})}U(a)}}
function T(a){if(a.f&&a.f.length){for(var b=0,c;c=a.f[b];b++)Na(a,c.tab);a.o.style.zIndex=a.H;b=V(a);c=W(a)/2;a.o.style.borderBottomWidth=0;a.o.style.paddingBottom=R(c+b)}}
function Na(a,b){var c=a.get("backgroundColor"),d=a.get("borderColor"),e=Ia(a),g=V(a),f=W(a),k=R(-Math.max(f,e)),e=R(e),l=a.H;b.index&&(l-=b.index);var c={cssFloat:"left",position:"relative",cursor:"pointer",backgroundColor:c,border:R(g)+" solid "+d,padding:R(f/2)+" "+R(f),marginRight:k,whiteSpace:"nowrap",borderRadiusTopLeft:e,MozBorderRadiusTopleft:e,webkitBorderTopLeftRadius:e,borderRadiusTopRight:e,MozBorderRadiusTopright:e,webkitBorderTopRightRadius:e,zIndex:l,display:"inline"},m;for(m in c)b.style[m]=
c[m];m=a.get("tabClassName");void 0!=m&&(b.className+=" "+m)}function Oa(a,b){b.nd=google.maps.event.addDomListener(b,"click",function(){Pa(a,this)})}F.prototype.Yb=function(a){(a=this.f[a-1])&&Pa(this,a.tab)};F.prototype.setTabActive=F.prototype.Yb;
function Pa(a,b){if(b){var c=W(a)/2,d=V(a);if(a.o){var e=a.o;e.style.zIndex=a.H-e.index;e.style.paddingBottom=R(c);e.style.borderBottomWidth=R(d)}b.style.zIndex=a.H;b.style.borderBottomWidth=0;b.style.marginBottomWidth="-10px";b.style.paddingBottom=R(c+d);a.setContent(a.f[b.index].content);Ma(a);a.o=b;U(a)}else a.setContent(""),Ma(a)}F.prototype.Od=function(a){this.set("maxWidth",a)};F.prototype.setMaxWidth=F.prototype.Od;F.prototype.pd=function(){U(this)};F.prototype.maxWidth_changed=F.prototype.pd;
F.prototype.Nd=function(a){this.set("maxHeight",a)};F.prototype.setMaxHeight=F.prototype.Nd;F.prototype.od=function(){U(this)};F.prototype.maxHeight_changed=F.prototype.od;F.prototype.Qd=function(a){this.set("minWidth",a)};F.prototype.setMinWidth=F.prototype.Qd;F.prototype.sd=function(){U(this)};F.prototype.minWidth_changed=F.prototype.sd;F.prototype.Pd=function(a){this.set("minHeight",a)};F.prototype.setMinHeight=F.prototype.Pd;F.prototype.rd=function(){U(this)};F.prototype.minHeight_changed=F.prototype.rd;
F.prototype.ib=function(a,b){var c=document.createElement("DIV");c.innerHTML=a;Na(this,c);Oa(this,c);this.U.appendChild(c);this.f.push({label:a,content:b,tab:c});c.index=this.f.length-1;c.style.zIndex=this.H-c.index;this.o||Pa(this,c);c.className=c.className+" "+this.J;U(this)};F.prototype.addTab=F.prototype.ib;
F.prototype.ge=function(a,b,c){!this.f.length||0>a||a>=this.f.length||(a=this.f[a],void 0!=b&&(a.tab.innerHTML=a.label=b),void 0!=c&&(a.content=c),this.o==a.tab&&(this.setContent(a.content),Ma(this)),U(this))};F.prototype.updateTab=F.prototype.ge;
F.prototype.Ub=function(a){if(!(!this.f.length||0>a||a>=this.f.length)){var b=this.f[a];b.tab.parentNode.removeChild(b.tab);google.maps.event.removeListener(b.tab.nd);this.f.splice(a,1);delete b;for(var c=0,d;d=this.f[c];c++)d.tab.index=c;b.tab==this.o&&(this.o=this.f[a]?this.f[a].tab:this.f[a-1]?this.f[a-1].tab:void 0,Pa(this,this.o));U(this)}};F.prototype.removeTab=F.prototype.Ub;
function Qa(a,b,c){var d=document.createElement("DIV");d.style.display="inline";d.style.position="absolute";d.style.visibility="hidden";"string"==typeof a?d.innerHTML=a:d.appendChild(a.cloneNode(!0));document.body.appendChild(d);a=new google.maps.Size(d.offsetWidth,d.offsetHeight);b&&a.width>b&&(d.style.width=R(b),a=new google.maps.Size(d.offsetWidth,d.offsetHeight));c&&a.height>c&&(d.style.height=R(c),a=new google.maps.Size(d.offsetWidth,d.offsetHeight));document.body.removeChild(d);delete d;return a}
function U(a){var b=a.get("map");if(b){var c=W(a);V(a);Ia(a);var d=Q(a),e=b.getDiv(),g=2*d,b=e.offsetWidth-g,e=e.offsetHeight-g-Ka(a),g=0,f=a.get("minWidth")||0,k=a.get("minHeight")||0,l=a.get("maxWidth")||0,m=a.get("maxHeight")||0,l=Math.min(b,l),m=Math.min(e,m),p=0;if(a.f.length)for(var x=0,w;w=a.f[x];x++){var q=Qa(w.tab,l,m);w=Qa(w.content,l,m);f<q.width&&(f=q.width);p+=q.width;k<q.height&&(k=q.height);q.height>g&&(g=q.height);f<w.width&&(f=w.width);k<w.height&&(k=w.height)}else x=a.get("content"),
"string"==typeof x&&(x=a.va(x)),x&&(w=Qa(x,l,m),f<w.width&&(f=w.width),k<w.height&&(k=w.height));l&&(f=Math.min(f,l));m&&(k=Math.min(k,m));f=Math.max(f,p);f==p&&(f+=2*c);f=Math.max(f,2*d);f>b&&(f=b);k>e&&(k=e-g);a.U&&(a.$b=g,a.U.style.width=R(p));a.B.style.width=R(f);a.B.style.height=R(k)}Ia(a);c=V(a);b=2;a.f.length&&a.$b&&(b+=a.$b);d=2+c;(e=a.B)&&e.clientHeight<e.scrollHeight&&(d+=15);a.W.style.right=R(d);a.W.style.top=R(b+c);a.draw()}
function Ka(a){return a.get("anchor")&&(a=a.get("anchorPoint"))?-1*a.y:0}F.prototype.rc=function(){this.draw()};F.prototype.anchorPoint_changed=F.prototype.rc;function E(a){var b=a||{};this.X=this.O=!1;void 0==a.visible&&(a.visible=!0);void 0==a.shadow&&(a.shadow="7px -3px 5px rgba(88,88,88,0.7)");void 0==a.anchor&&(a.anchor=X.BOTTOM);this.setValues(b)}E.prototype=new google.maps.OverlayView;window.RichMarker=E;E.prototype.getVisible=function(){return this.get("visible")};E.prototype.getVisible=E.prototype.getVisible;E.prototype.setVisible=function(a){this.set("visible",a)};E.prototype.setVisible=E.prototype.setVisible;
E.prototype.he=function(){this.O&&(this.a.style.display=this.getVisible()?"":"none",this.draw())};E.prototype.visible_changed=E.prototype.he;E.prototype.Md=function(a){this.set("flat",!!a)};E.prototype.setFlat=E.prototype.Md;E.prototype.Eb=function(){return this.get("flat")};E.prototype.getFlat=E.prototype.Eb;E.prototype.fd=function(){return this.get("width")};E.prototype.getWidth=E.prototype.fd;E.prototype.Tc=function(){return this.get("height")};E.prototype.getHeight=E.prototype.Tc;
E.prototype.Xb=function(a){this.set("shadow",a);this.Oa()};E.prototype.setShadow=E.prototype.Xb;E.prototype.Hb=function(){return this.get("shadow")};E.prototype.getShadow=E.prototype.Hb;E.prototype.Oa=function(){this.O&&(this.a.style.boxShadow=this.a.style.webkitBoxShadow=this.a.style.MozBoxShadow=this.Eb()?"":this.Hb())};E.prototype.flat_changed=E.prototype.Oa;E.prototype.setZIndex=function(a){this.set("zIndex",a)};E.prototype.setZIndex=E.prototype.setZIndex;E.prototype.getZIndex=function(){return this.get("zIndex")};
E.prototype.getZIndex=E.prototype.getZIndex;E.prototype.gb=function(){this.getZIndex()&&this.O&&(this.a.style.zIndex=this.getZIndex())};E.prototype.zIndex_changed=E.prototype.gb;E.prototype.getDraggable=function(){return this.get("draggable")};E.prototype.getDraggable=E.prototype.getDraggable;E.prototype.setDraggable=function(a){this.set("draggable",!!a)};E.prototype.setDraggable=E.prototype.setDraggable;E.prototype.wb=function(){this.O&&(this.getDraggable()?Ra(this,this.a):Sa(this))};
E.prototype.draggable_changed=E.prototype.wb;E.prototype.getPosition=function(){return this.get("position")};E.prototype.getPosition=E.prototype.getPosition;E.prototype.setPosition=function(a){this.set("position",a)};E.prototype.setPosition=E.prototype.setPosition;E.prototype.$a=function(){this.draw()};E.prototype.position_changed=E.prototype.$a;E.prototype.zb=function(){return this.get("anchor")};E.prototype.getAnchor=E.prototype.zb;E.prototype.Vb=function(a){this.set("anchor",a)};
E.prototype.setAnchor=E.prototype.Vb;E.prototype.sc=function(){this.draw()};E.prototype.anchor_changed=E.prototype.sc;E.prototype.va=function(a){var b=document.createElement("DIV");b.innerHTML=a;if(1==b.childNodes.length)return b.removeChild(b.firstChild);for(a=document.createDocumentFragment();b.firstChild;)a.appendChild(b.firstChild);return a};E.prototype.ab=function(a){if(a)for(var b;b=a.firstChild;)a.removeChild(b)};E.prototype.setContent=function(a){this.set("content",a)};
E.prototype.setContent=E.prototype.setContent;E.prototype.getContent=function(){return this.get("content")};E.prototype.getContent=E.prototype.getContent;
E.prototype.qb=function(){if(this.m){this.ab(this.m);var a=this.getContent();if(a){"string"==typeof a&&(a=a.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),a=this.va(a));this.m.appendChild(a);for(var b=this,a=this.m.getElementsByTagName("IMG"),c=0,d;d=a[c];c++)google.maps.event.addDomListener(d,"mousedown",function(a){b.getDraggable()&&(a.preventDefault&&a.preventDefault(),a.returnValue=!1)}),google.maps.event.addDomListener(d,"load",function(){b.draw()});google.maps.event.trigger(this,"domready")}this.O&&this.draw()}};
E.prototype.content_changed=E.prototype.qb;function Y(a,b){if(a.O){var c="";if(-1!==navigator.userAgent.indexOf("Gecko/"))"dragging"==b&&(c="-moz-grabbing"),"dragready"==b&&(c="-moz-grab");else if("dragging"==b||"dragready"==b)c="move";"draggable"==b&&(c="pointer");a.a.style.cursor!=c&&(a.a.style.cursor=c)}}
function Ta(a,b){if(a.getDraggable()&&!a.X){a.X=!0;var c=a.getMap();a.Mb=c.get("draggable");c.set("draggable",!1);a.Xa=b.clientX;a.Ya=b.clientY;Y(a,"dragready");a.a.style.MozUserSelect="none";a.a.style.KhtmlUserSelect="none";a.a.style.WebkitUserSelect="none";a.a.unselectable="on";a.a.onselectstart=function(){return!1};Ua(a);google.maps.event.trigger(a,"dragstart")}}
function Va(a){a.getDraggable()&&a.X&&(a.X=!1,a.getMap().set("draggable",a.Mb),a.Xa=a.Ya=a.Mb=null,a.a.style.MozUserSelect="",a.a.style.KhtmlUserSelect="",a.a.style.WebkitUserSelect="",a.a.unselectable="off",a.a.onselectstart=function(){},Wa(a),Y(a,"draggable"),google.maps.event.trigger(a,"dragend"),a.draw())}
function Xa(a,b){if(a.getDraggable()&&a.X){var c=a.Xa-b.clientX,d=a.Ya-b.clientY;a.Xa=b.clientX;a.Ya=b.clientY;c=parseInt(a.a.style.left,10)-c;d=parseInt(a.a.style.top,10)-d;a.a.style.left=c+"px";a.a.style.top=d+"px";var e=Ya(a),c=new google.maps.Point(c-e.width,d-e.height);a.setPosition(a.getProjection().fromDivPixelToLatLng(c));Y(a,"dragging");google.maps.event.trigger(a,"drag")}else Va(a)}function Sa(a){a.Na&&(google.maps.event.removeListener(a.Na),delete a.Na);Y(a,"")}
function Ra(a,b){b&&(a.Na=google.maps.event.addDomListener(b,"mousedown",function(b){Ta(a,b)}),Y(a,"draggable"))}function Ua(a){a.a.setCapture?(a.a.setCapture(!0),a.qa=[google.maps.event.addDomListener(a.a,"mousemove",function(b){Xa(a,b)},!0),google.maps.event.addDomListener(a.a,"mouseup",function(){Va(a);a.a.releaseCapture()},!0)]):a.qa=[google.maps.event.addDomListener(window,"mousemove",function(b){Xa(a,b)},!0),google.maps.event.addDomListener(window,"mouseup",function(){Va(a)},!0)]}
function Wa(a){if(a.qa){for(var b=0,c;c=a.qa[b];b++)google.maps.event.removeListener(c);a.qa.length=0}}
function Ya(a){var b=a.zb();if("object"==typeof b)return b;var c=new google.maps.Size(0,0);if(!a.m)return c;var d=a.m.offsetWidth;a=a.m.offsetHeight;switch(b){case X.TOP:c.width=-d/2;break;case X.TOP_RIGHT:c.width=-d;break;case X.LEFT:c.height=-a/2;break;case X.MIDDLE:c.width=-d/2;c.height=-a/2;break;case X.RIGHT:c.width=-d;c.height=-a/2;break;case X.BOTTOM_LEFT:c.height=-a;break;case X.BOTTOM:c.width=-d/2;c.height=-a;break;case X.BOTTOM_RIGHT:c.width=-d,c.height=-a}return c}
E.prototype.onAdd=function(){this.a||(this.a=document.createElement("DIV"),this.a.style.position="absolute");this.getZIndex()&&(this.a.style.zIndex=this.getZIndex());this.a.style.display=this.getVisible()?"":"none";if(!this.m){this.m=document.createElement("DIV");this.a.appendChild(this.m);google.maps.event.addDomListener(this.m,"click",function(a){a.stopPropagation&&a.stopPropagation()});var a=this;google.maps.event.addDomListener(this.m,"click",function(){google.maps.event.trigger(a,"click")});
google.maps.event.addDomListener(this.m,"mouseover",function(){google.maps.event.trigger(a,"mouseover")});google.maps.event.addDomListener(this.m,"mouseout",function(){google.maps.event.trigger(a,"mouseout")})}this.O=!0;this.qb();this.Oa();this.wb();var b=this.getPanes();b&&b.overlayMouseTarget.appendChild(this.a);google.maps.event.trigger(this,"ready")};E.prototype.onAdd=E.prototype.onAdd;
E.prototype.draw=function(){if(this.O&&!this.X){var a=this.getProjection();if(a){var b=this.get("position"),a=a.fromLatLngToDivPixel(b),b=Ya(this);this.a.style.top=a.y+b.height+"px";this.a.style.left=a.x+b.width+"px";a=this.m.offsetHeight;b=this.m.offsetWidth;b!=this.get("width")&&this.set("width",b);a!=this.get("height")&&this.set("height",a)}}};E.prototype.draw=E.prototype.draw;E.prototype.onRemove=function(){this.a&&this.a.parentNode&&this.a.parentNode.removeChild(this.a);Sa(this)};
E.prototype.onRemove=E.prototype.onRemove;var ta=5,X={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:ta,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};window.RichMarkerPosition=X;jQuery(function(){var a=window.innerHeight-document.getElementById("content").offsetTop/2;jQuery("#IM_googleMap").css("height",a+"px");jQuery("#IM_legend").css("height",a-311+"px");jQuery(".conceptTooltip").each(function(){var a=jQuery(this).data("id");jQuery(this).qtip({content:{text:Za(a)},position:{my:"bottom right",at:"top left"}})})});
jQuery(document).on("im_map_initialized",function(){z.ca("outside",jQuery("#AKCheckbox").prop("checked"));jQuery("#AKCheckbox").change(function(){z.ca("outside",jQuery("#AKCheckbox").prop("checked"));r.Rb()});z.ca("community",jQuery("#CommCheckbox").prop("checked"));jQuery("#CommCheckbox").change(function(){z.ca("community",jQuery("#CommCheckbox").prop("checked"));r.Rb()});"xxx"!=ajax_object.db&&z.ca("db",ajax_object.db);z.pc();void 0==PATH.tk?z.Z(5,"E17",{subElementCategory:-1}):z.Lb(1*PATH.tk);
v.na=function(a){try{addBiblioQTips(a)}catch(b){console.log(b)}};v.ma=function(a){a.find(".bibl").qtip("destroy",!0)};v.cb=function(){return"xxx"==ajax_object.db}});jQuery(document).on("im_legend_before_rebuild",function(){jQuery("#IM_legend tr td:nth-child(3)").qtip("destroy",!0)});jQuery(document).on("im_legend_element_created",function(a,b){if(b.j==Z&&-1!=b.key){var c=Za(b.key.substring(1));c&&jQuery(b.v).find("td:nth-child(3)").qtip({content:{text:c},position:{my:"bottom left",at:"top left"}})}});
function Za(a){a=Concepts[a];var b=a[0],c=a[1],d=a[4];if(b&&b!=c||d){var e=document.createElement("div");d&&(d=document.createElement("img"),d.src=a[4],d.style.display="block",d.style.margin="auto",d.style["max-width"]="100%",e.appendChild(d),e.appendChild(document.createElement("br")));b&&b!=c&&(b=document.createElement("span"),b.style["text-align"]="center",b.appendChild(document.createTextNode(a[1])),e.appendChild(b));return jQuery(e)}return null}
var Z=1,$a=new function(){this.Va=function(a,b,c){this.C=Ga(a,c)};this.Ja=function(a,b){return-1==a?-1:-1==b?1:0==this.eb?this.C[a].localeCompare(this.C[b]):this.C[b].localeCompare(this.C[a])};this.getName=function(){return TRANSLATIONS.ALPHABETICAL};this.Sa=function(){return 2};this.Ta=function(a){return 0==a?TRANSLATIONS.ASC:TRANSLATIONS.DESC};this.Qa=function(){return 0}},ab=new function(){this.Va=function(a,b,c){for(var d={},e=0;e<a.length;e++){var g=a[e];d[g]=b[g][1].length}this.sb=d;this.C=
Ga(a,c)};this.Ja=function(a,b){var c=this.sb[a],d=this.sb[b];return c==d?-1==a?-1:-1==b?1:this.C[a].localeCompare(this.C[b]):0==this.eb?c-d:d-c};this.getName=function(){return TRANSLATIONS.NUM_RECORDS};this.Sa=function(){return 2};this.Ta=function(a){return 0==a?TRANSLATIONS.ASC:TRANSLATIONS.DESC};this.Qa=function(){return 1}},bb=new Ca;
bb.ga.Da(new function(){this.getName=function(){return"JSON-Format"};this.getType=function(){return"application/json;charset=utf8"};this.Ha=function(a){return JSON.stringify(a)};this.Wa=function(){return!0};this.Ma=function(){return"list.json"}});
bb.ga.Da(new function(){this.getName=function(){return"Tabelle anzeigen"};this.getType=function(){return"text/html;charset=utf8"};this.Ha=function(a){var b="<table>";if(0<a.length){var c=[],d;for(d in a[0])c.push(d);d=a.length;for(var e=c.length,b=b+"<thead><tr>",g=0;g<e;g++)b+="<th>"+c[g]+"</th>";b+="</tr></thead><tbody>";for(g=0;g<d;g++){for(var b=b+"<tr>",f=0;f<e;f++)b+="<td>"+a[g][c[f]]+"</td>";b+="</tr>"}}return b+"</tbody></table>"};this.Wa=function(){return!1};this.Ma=function(){return null}});
bb.ga.Da(new function(){this.getName=function(){return"CSV-Format"};this.getType=function(){return"text/csv;charset=utf8"};this.Ha=function(a){var b="";if(0<a.length){var c=[],d;for(d in a[0])c.push(d);d=a.length;for(var e=c.length,g=0;g<e;g++)b+=0<g?";":"",b+='"'+c[g]+'"';b+="\n";for(g=0;g<d;g++){for(var f=0;f<e;f++)b+=0<f?";":"",b+='"'+a[g][c[f]]+'"';b+=f!=d-1?"\n":""}}return b};this.Wa=function(){return!0};this.Ma=function(){return"list.csv"}});
z.$(new M(0,"I",Ue.INFORMANTEN,"","informantSelect",void 0,void 0,Ue.KOMMENTAR_INFORMANT_SCHREIBEN,"Informanten-Daten exportieren",bb,void 0));z.$(new M(2,"P",Ue.PHON_TYP,Ue.NICHT_TYPISIERT,"phonTypeSelect",[new N([Z],Z,new P([$a,ab]))],[Ue.BELEG,Ue.BELEGE],Ue.KOMMENTAR_PTYP_SCHREIBEN));z.$(new M(3,"L",Ue.MORPH_TYP,Ue.NICHT_TYPISIERT,"morphTypeSelect",[new N([2,Z],Z,new P([$a,ab]))],[Ue.BELEG,Ue.BELEGE],Ue.KOMMENTAR_MTYP_SCHREIBEN));
z.$(new M(4,"B",Ue.BASISTYP,Ue.NICHT_TYPISIERT,"baseTypeSelect",[new N([2,3,Z],Z,new P([$a,ab]))],[Ue.BELEG,Ue.BELEGE],Ue.KOMMENTAR_BASIS_SCHREIBEN));z.$(new M(Z,"C",Ue.KONZEPT,Ue.KEIN_KONZEPT,"conceptSelect",[new cb,new N([2,3,4],3,new P([$a,new db,ab]),function(a,b,c,d){return 1!=d||3==c})],[Ue.BELEG,Ue.BELEGE],Ue.KOMMENTAR_KONZEPT_SCHREIBEN,void 0,void 0,function(a){a=a.substring(1);return""==Concepts[a][0]?Concepts[a][1]:Concepts[a][0]}));
z.$(new M(5,"E","","","extraLingSelect",void 0,void 0,Ue.KOMMENTAR_AUSSERSPR_SCHREIBEN,void 0,void 0,function(a){return ELing[a.substring(1)][0]}));function Ba(a){this.R=a.record;this.ea=0==a.concepts.length?[""]:a.concepts;this.T=Array(this.ea.length);for(var b=0;b<this.ea.length;b++)this.T[b]=a.source;this.be=a.typeTable;this.Gc=a.community;this.Ra=function(){var a="<div>",b=this.R.indexOf("###");0==this.R.indexOf("TYP")?a+="<table style='width : 100%'><tr><td>"+Ue.KEIN_BELEG+"</td>":(a+="<table style='width : 100%'><tr><td><h1 class='singleRecord'>"+(-1==b?this.R:this.R.substring(0,b)+"<font color='red'>*</font>")+"</h1>",a+="<span>("+Ue.EINZELBELEG+
")</span></td>");for(var a=a+("<td><h2 class='community singleRecord'>"+this.Gc+"</h2></td></tr></table>"),a=a+("<br /><br />"+this.be+"<br /><br /><table class='easy-table easy-table-default'><tr><th>"+Ue.QUELLE+"</th><th>"+Ue.KONZEPT+"</th></tr>"),e=0;e<this.T.length;e++){var g=Concepts[this.ea[e].substring(1)],f;void 0!==g?(f=g[0],g=g[1]):(f="",g=Ue.KEIN_KONZEPT);a=""==f?a+("<tr><td class='atlasSource'>"+this.T[e]+"</td><td>"+g+"</td></tr>"):a+("<tr><td class='atlasSource'>"+this.T[e]+"</td><td><div class='currentRecordWindowConcept' data-concept-descr='"+
g+"'>"+f+"</div></td></tr>")}a+="</table>";-1!=b&&(a+="<br /><font color='red'>* "+Ue.BELEG_TEIL+" <b>"+this.R.substring(b+3)+"</b></font>");return a+"</div>"};this.cc=function(a,b){for(var c=0;c<a.I.length;c++){var d=a.I[c];if(d instanceof Ba&&b==a.l[c]&&d.R==this.R){for(c=0;c<this.T.length;c++)d.T.push(this.T[c]),d.ea.push(this.ea[c]);return!0}}return!1};this.Ob=function(a){google.maps.event.addListener(a,"domready",function(){jQuery(this.K).find(".currentRecordWindowConcept").qtip({content:{attr:"data-concept-descr"},
position:{my:"bottom left",at:"top left"}});jQuery(this.K).find(".infoWindowTypeSelect").each(function(){jQuery(this).change(function(){jQuery(this).parent().parent().children().eq(1).html(jQuery(this).find("option:selected").data("tname"))})})})};this.Nb=function(a){jQuery(a.K).find(".currentRecordWindowConcept").qtip("destroy")}};function cb(){this.Ba=function(a,b){var c=[],d=jQuery(b).children("div").jstree("get_selected");jQuery.each(d,function(){c.push(jQuery("#"+this).data("concept"))});a.conceptIds=c;jQuery(b).children("div").jstree("destroy")};this.ta=function(a,b){var c=document.createElement("div");c.style["max-height"]="250pt";c.style["overflow-y"]="auto";c.style["margin-bottom"]="2em";var d=document.createElement("h2");d.appendChild(document.createTextNode(Ue.UNTERKONZEPTE_LISTE));c.appendChild(d);d=document.createElement("div");
d.dataset.conceptId=b.substring(1);c.appendChild(d);return c};this.Ea=function(a){a=jQuery(a).children("div");var b=eb(a.data("conceptId"));a.css("height",24*b.count+"px");a.jstree({core:{data:b.json,themes:{icons:!1}},plugins:["checkbox"],checkbox:{three_state:!1,visible:!0}})}}
function eb(a){for(var b=Concepts[a],c=0,d=b[3].length,e=[d],g=0;g<d;g++){var f=eb(b[3][g]);e[g]=f.json;c+=f.count}a={text:(""==b[0]||b[0]==b[1]?b[1]:b[0]+" ("+b[1]+")")+" ("+b[2]+" "+("1"==b[2]?Ue.BELEG:Ue.BELEGE)+")",state:{selected:!0},li_attr:{"data-concept":a}};0<d&&(a.children=e);return{json:a,count:c+1}};function db(){this.Va=function(a,b,c){this.C=Ga(a,c);this.Y={};var d;switch(1*this.eb){case 0:d={g:0,r:1,s:2};break;case 1:d={g:0,s:1,r:2};break;case 2:d={r:0,g:1,s:2};break;case 3:d={r:0,s:1,g:2};break;case 4:d={s:0,g:1,r:2};break;case 5:d={s:0,r:1,g:2}}for(b=0;b<a.length;b++){c=this.C[a[b]];var e=c.indexOf("(");-1==e&&(this.Y[a[b]]=3);c=d[c.substring(e+1,e+2)];this.Y[a[b]]=void 0==c?3:c}};this.Ja=function(a,b){return-1==a?-1:-1==b?1:this.Y[a]==this.Y[b]?this.C[a].localeCompare(this.C[b]):this.Y[a]-
this.Y[b]};this.getName=function(){return Ue.NACH_SPRACHFAMILIEN};this.Sa=function(){return 6};this.Ta=function(a){switch(a){case 0:return"ger,rom,sla";case 1:return"ger,sla,rom";case 2:return"rom,ger,sla";case 3:return"rom,sla,ger";case 4:return"sla,ger,rom";default:return"sla,rom,ger"}};this.Qa=function(){return 0}};